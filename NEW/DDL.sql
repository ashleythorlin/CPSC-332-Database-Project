-- CLEAR TABLES --
DROP TABLE PREREQUISITE;
DROP TABLE MINOR;
DROP TABLE ENROLLMENT;
DROP TABLE SECTION;
DROP TABLE STUDENT;
DROP TABLE COURSE;
DROP TABLE DEPARTMENT;
DROP TABLE PROFESSOR;

-- CREATE TABLES --
CREATE TABLE PROFESSOR (
    SSN char(9) PRIMARY KEY,
    PNAME varchar(50),
    STREET varchar(50),
    CITY varchar(50),
    STATE char(2),
    ZIPCODE char(5),
    AREACODE char(3),
    TELEPHONE char(8),
    SEX varchar(7),
    TITLE varchar(50),
    SALARY int,
    DEGREES varchar(50)
);

CREATE TABLE DEPARTMENT (
    DNUM char(4) PRIMARY KEY,
    DNAME varchar(50),
    PHONE_NUM char(13),
    LOCATION varchar(50),
    CHAIRPERSON char(9),
    FOREIGN KEY (CHAIRPERSON) references PROFESSOR(SSN)
);

CREATE TABLE COURSE (
    CNUM varchar(10) PRIMARY KEY,
    TITLE varchar(50),
    TEXTBOOK varchar(75),
    UNITS INT,
    DEPARTMENT char(4),
    FOREIGN KEY (DEPARTMENT) references DEPARTMENT(DNUM)
);

CREATE TABLE SECTION (
    SNUM char(6),
    CNUM varchar(10),
    CLASSROOM varchar(6),
    NUM_SEATS INT,
    DAYS varchar(6),
    BEGIN_TIME varchar(10),
    END_TIME varchar(10),
    PROFESSOR char(9),
    PRIMARY KEY (SNUM, CNUM),
    FOREIGN KEY (CNUM) references COURSE(CNUM),
    FOREIGN KEY (PROFESSOR) references PROFESSOR(SSN)
);

CREATE TABLE PREREQUISITE (
    CNUM varchar(10),
    PREQ varchar(10),
    PRIMARY KEY (CNUM, PREQ),
    FOREIGN KEY (CNUM) references COURSE(CNUM)
);

CREATE TABLE STUDENT (
    CWID char(9) PRIMARY KEY,
    FNAME varchar(20),
    LNAME varchar(20),
    ADDRESS varchar(50),
    PHONE_NUM varchar(13),
    MAJOR char(4),
    FOREIGN KEY (MAJOR) references DEPARTMENT(DNUM)
);

CREATE TABLE MINOR (
    STUDENT_ID char(9),
    DEPARTMENT char(4),
    PRIMARY KEY (STUDENT_ID, DEPARTMENT),
    FOREIGN KEY (STUDENT_ID) references STUDENT(CWID),
    FOREIGN KEY (DEPARTMENT) references DEPARTMENT(DNUM)
);

CREATE TABLE ENROLLMENT(
    CWID char(9),
    SNUM char(6),
    CNUM varchar(10),
    GRADE varchar(2),
    PRIMARY KEY (CWID, SNUM, CNUM),
    FOREIGN KEY (CWID) references STUDENT(CWID),
    FOREIGN KEY (CNUM, SNUM) references SECTION(CNUM, SNUM)
);

-- INSERT DATA --
-- PROFESSOR --
INSERT INTO PROFESSOR VALUES ( '298148403', 'Pixie Glenn', '304 Charles Street', 'Los Angeles', 'CA', '90037', '949', '818-7117', 'Female', 'Assistant Professor', '47768', 'Bachelor of Science: Computer Science' );
INSERT INTO PROFESSOR VALUES ( '360275590', 'Ayrton Briggs', '7217 Park Road', 'Riverside', 'CA', '92503', '714', '952-1357', 'Male', 'Full Professor', '85230', 'Bachelor of Arts: Mathematics' );
INSERT INTO PROFESSOR VALUES ( '696346531', 'Carmen Krause', '7 North Arch St.', 'Huntington Park', 'CA', '90255', '949', '546-7580', 'Female', 'Assistant Professor', '84340', 'Bachelor of Science: Mechanical Engineering');

-- DEPARTMENT --
INSERT INTO DEPARTMENT VALUES ('EGGN', 'Department of Engineering', '9492783514', 'Fullerton Campus', '360275590');
INSERT INTO DEPARTMENT VALUES ('CPSC', 'Department of Computer Science', '9492785987', 'Fullerton Campus', '298148403');
INSERT INTO DEPARTMENT VALUES ('MATH', 'Department of Mathematics', '9492783888', 'Fullerton Campus', '696346531');

-- COURSE --
INSERT INTO COURSE VALUES('CPSC 332', 'File Structures and Database Systems', 'Fundamentals of Database Systems', 3, 'CPSC');
INSERT INTO COURSE VALUES('CPSC 335', 'Algorithm Engineering', 'Algorithms', 3, 'CPSC');
INSERT INTO COURSE VALUES('EGGN 101', 'Introduction to Engineering', 'Introduction to Engineering', 3, 'EGGN');
INSERT INTO COURSE VALUES('MATH 338', 'Statistics Applied to Natural Sciences', 'Statistics in Science', 3, 'MATH');

-- SECTION --
INSERT INTO SECTION VALUES('01', 'CPSC 332', 'CS-101', '40', 'MW', '8:00am', '9:00am', '298148403');
INSERT INTO SECTION VALUES('02', 'CPSC 332', 'CS-101', '40', 'TTh', '2:00pm', '3:30pm', '298148403');
INSERT INTO SECTION VALUES('01', 'CPSC 335', 'CS-102', '35', 'MW', '9:00am', '10:00pm', '298148403');
INSERT INTO SECTION VALUES('02', 'CPSC 335', 'CS-102', '35', 'TTh', '1:00pm', '2:30pm', '298148403');
INSERT INTO SECTION VALUES('01', 'EGGN 101', 'CS-103', '30', 'MW', '11:00am', '12:30pm', '360275590');
INSERT INTO SECTION VALUES('02', 'EGGN 101', 'CS-103', '30', 'TTh', '3:00pm', '4:30pm', '360275590');
INSERT INTO SECTION VALUES('01', 'MATH 338', 'CS-104', '25', 'MW', '8:00am', '9:15pm', '696346531');
INSERT INTO SECTION VALUES('02', 'MATH 338', 'CS-104', '25', 'TTh', '5:00pm', '6:00pm', '696346531');

-- PREREQUISITE --
INSERT INTO PREREQUISITE VALUES('CPSC 332', 'CPSC 131');
INSERT INTO PREREQUISITE VALUES('CPSC 335', 'CPSC 131');
INSERT INTO PREREQUISITE VALUES('MATH 338', 'MATH 150B');

-- STUDENT --
INSERT INTO STUDENT VALUES('842003700', 'Emmett', 'Cervantes', '431 Devon Dr. Bakersfield, CA 93307', '9494328588', 'CPSC');
INSERT INTO STUDENT VALUES('711274203', 'Kurtis', 'Thornton', '7778 Hawthorne St. Van Nuys, CA 91405', '9497904512', 'EGGN');
INSERT INTO STUDENT VALUES('197072181', 'Siya', 'Forrest', '94 Devonshire Drive Sacramento, CA 95828', '9493975686', 'CPSC');
INSERT INTO STUDENT VALUES('359024332', 'Michaela', 'Bray', '9067 Santa Clara Drive Anaheim, CA 92805', '9493861612', 'MATH');
INSERT INTO STUDENT VALUES('430910664', 'Sian', 'Sanford', '1 Bayport Drive Canyon Country, CA 91351', '9496046833', 'EGGN');
INSERT INTO STUDENT VALUES('796991437', 'Brielle', 'Williams', '8 1st Drive Anaheim, CA 92804', '9494921807', 'MATH');
INSERT INTO STUDENT VALUES('094627750', 'Manuel', 'Wickens', '5 Forest Ave. Panorama City, CA 91402', '9499309863', 'EGGN');
INSERT INTO STUDENT VALUES('753578588', 'Stephen', 'Andrews', '36 E. Atlantic Drive Fontana, CA 92336', '9494173092', 'CPSC');

-- MINOR --
INSERT INTO MINOR VALUES('711274203', 'CPSC');
INSERT INTO MINOR VALUES('430910664', 'MATH');
INSERT INTO MINOR VALUES('753578588', 'EGGN');

-- ENROLLMENT --
INSERT INTO ENROLLMENT VALUES('842003700', '01', 'CPSC 332', 'A-');
INSERT INTO ENROLLMENT VALUES('842003700', '02', 'MATH 338', 'C+');
INSERT INTO ENROLLMENT VALUES('842003700', '01', 'EGGN 101', 'A+');
INSERT INTO ENROLLMENT VALUES('711274203', '02', 'CPSC 332', 'A-');
INSERT INTO ENROLLMENT VALUES('711274203', '01', 'CPSC 332', 'C+');
INSERT INTO ENROLLMENT VALUES('711274203', '02', 'MATH 338', 'C+');
INSERT INTO ENROLLMENT VALUES('197072181', '01', 'MATH 338', 'A-');
INSERT INTO ENROLLMENT VALUES('197072181', '02', 'CPSC 332', 'C');
INSERT INTO ENROLLMENT VALUES('197072181', '01', 'EGGN 101', 'A-');
INSERT INTO ENROLLMENT VALUES('359024332', '02', 'CPSC 332', 'C+');
INSERT INTO ENROLLMENT VALUES('359024332', '01', 'MATH 338', 'A+');
INSERT INTO ENROLLMENT VALUES('359024332', '02', 'EGGN 101', 'A-');
INSERT INTO ENROLLMENT VALUES('430910664', '01', 'EGGN 101', 'C+');
INSERT INTO ENROLLMENT VALUES('430910664', '02', 'CPSC 332', 'C');
INSERT INTO ENROLLMENT VALUES('796991437', '01', 'MATH 338', 'C+');
INSERT INTO ENROLLMENT VALUES('796991437', '02', 'EGGN 101', 'C+');
INSERT INTO ENROLLMENT VALUES('094627750', '01', 'CPSC 332', 'C');
INSERT INTO ENROLLMENT VALUES('094627750', '02', 'MATH 338', 'B-');
INSERT INTO ENROLLMENT VALUES('753578588', '01', 'CPSC 332', 'A-');
INSERT INTO ENROLLMENT VALUES('753578588', '02', 'EGGN 101', 'C+');